{erl_opts, [debug_info]}.
{deps, [
    {grpcbox, "0.16.0"},
    {gpb, "4.21.1"}
]}.

{plugins, [
    {grpcbox_plugin, {git, "https://github.com/tsloughter/grpcbox_plugin.git", {branch, "master"}}}
]}.

{grpc, [
    {type, all},
    {protos, ["proto"]},
    {out_dir, "src"},
    {gpb_opts, [{module_name_suffix, "_pb"}]}
]}.

{provider_hooks, [
    {pre, [{compile, {grpc, gen}}]}
]}.

{shell, [
    {config, "config/sys.config"},
    {apps, [advent_2026]}
]}.

{relx, [
    {release, {advent_2026, "0.1.0"}, [advent_2026, sasl, grpcbox]},
    {mode, dev},
    {sys_config, "config/sys.config"},
    {extended_start_script, true}
]}.

{profiles, [
    {prod, [
        {relx, [
            {mode, prod}
        ]}
    ]}
]}.
